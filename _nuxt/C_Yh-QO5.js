import{_ as y}from"./LSZ9u4m8.js";import{_ as h}from"./Dnyz8t2s.js";import{_ as w}from"./B7Meyh5M.js";import{_ as B}from"./CWGpjWG0.js";import{d as C,i as d,o as l,c as N,b as i,w as c,e as o,a as s,n as a,m as n,l as u,h as $}from"./CFhrp1Et.js";const j={class:"overflow-hidden rounded-xl border-2"},U={class:"text-center p-2"},V={class:"flex flex-col gap-y-1 mb-3"},I={class:"line-through decoration-2 decoration-red-500"},L={class:"text-lg"},q={class:"font-bold"},D={class:"text-center text-sm font-bold"},T=C({__name:"Card",props:{data:{type:Object,required:!0}},setup(v){const b=v,t=d(()=>b.data),f=d(()=>t.value.is_member?"delete":"post"),r=async m=>{const{data:e}=await $(`/campaign/campaigns/${t.value.id}/join-leave/`,{method:f.value,body:{campaign:m}});t.value&&(t.value.is_member=!t.value.is_member,t.value.is_member?t.value.participants_count++:t.value.participants_count--)};return(m,e)=>{const x=y,p=h,k=w,_=B;return l(),N("div",j,[i(p,{to:{name:"campaigns-id",params:{id:o(t).id}}},{default:c(()=>[i(x,{src:o(t).cover,class:"w-full h-40"},null,8,["src"])]),_:1},8,["to"]),s("div",U,[i(p,{to:{name:"campaigns-id",params:{id:o(t).id}},class:"block text-sky-500 font-bold mb-3"},{default:c(()=>[a(n(o(t).title),1)]),_:1},8,["to"]),s("div",V,[s("p",I,[e[2]||(e[2]=a(" تکی:‌ ")),s("span",null,n(o(t).single_price),1),e[3]||(e[3]=a(" تومان "))]),s("p",L,[e[4]||(e[4]=a(" عمده: ")),s("span",q,n(o(t).bulk_price),1),e[5]||(e[5]=a(" تومان "))])]),i(k,{value:2,max:o(t).participants_count},{label:c(()=>[s("div",D,n(o(t).participants_count)+" نفر از "+n(o(t).min_participants),1)]),_:1},8,["max"]),o(t).is_member?(l(),u(_,{key:1,block:"",variant:"soft",color:"red",label:"منصرف شدم",class:"mt-3",onClick:e[1]||(e[1]=g=>r(o(t).id))})):(l(),u(_,{key:0,block:"",variant:"soft",label:"شرکت میکنم",class:"mt-3",onClick:e[0]||(e[0]=g=>r(o(t).id))}))])])}}});export{T as _};
